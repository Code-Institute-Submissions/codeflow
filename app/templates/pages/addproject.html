{% extends 'layout/base.html' %}
{% block content %}

<div class="container mt-5">
    <section class="section-content neu">
        <legend class="text-center border-bottom mb-4">Add New Project</legend>
        <form action="{{url_for('add_project')}}" method="post">
            {{ form.hidden_tag() }}
            <fieldset class="form-group">
                <div class="form-group">
                    {{ form.owner.label(class="form-control-label") }}
                    {% if form.owner.errors %}
                    {{ form.owner(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in form.owner.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{ form.owner(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.posted.label(class="form-control-label") }}
                    {% if form.posted.errors %}
                    {{ form.posted(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in form.posted.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{ form.posted(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.status.label(class="form-control-label") }}
                    {% if form.status.errors %}
                    {{ form.status(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in form.status.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{ form.status(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group" name="daterange" type="date">
                    {{ form.deadline.label(class="form-control-label") }}
                    {% if form.deadline.errors %}
                    {{ form.deadline(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in form.deadline.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{ form.deadline(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.title.label(class="form-control-label") }}
                    {% if form.title.errors %}
                    {{ form.title(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in form.title.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{ form.title(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.brief.label(class="form-control-label") }}
                    {% if form.brief.errors %}
                    {{ form.brief(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in form.brief.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{ form.brief(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
            </fieldset>
            <legend class="border-bottom mb-4">{{ form.pieces.label(class="form-control-label") }}</legend>
            <fieldset>
                {{ piece.hidden_tag() }}
                <div class="form-group">
                    {{ piece.task.label(class="form-control form-control-lg") }}
                    {% if piece.task.errors %}
                    {{ piece.task(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in piece.task.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{ piece.task(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ piece.description.label(class="form-control form-control-lg") }}
                    {% if piece.description.errors %}
                    {{ piece.description(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in piece.description.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{ piece.description(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ piece.status.label(class="form-control form-control-lg") }}
                    {% if piece.description.errors %}
                    {{ piece.description(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in piece.description.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{ piece.status(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ piece.username.label(class="form-control form-control-lg") }}
                    {% if piece.username.errors %}
                    {{ piece.username(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in piece.username.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{ piece.username(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ piece.add_piece(class="btn btn-outline-info") }}
                </div>
            </fieldset>
            <div class="form-group">
                {{ form.submit(class="btn btn-outline-info") }}
            </div>
        </form>
    </section>
</div>
{{ ckeditor.load() }}
{{ ckeditor.config(name='brief') }}
<script>
    $( function() {
      $( "#datepicker" ).datepicker({
        showButtonPanel: true
      });
    } );
    </script>

{% endblock %}